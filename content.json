{"meta":{"title":"xulei's BLog","subtitle":"ä¸€ä¸ªå…¨æ ˆå·¥ç¨‹å¸ˆå·²ç»ä¸èƒ½å¡«æ»¡æˆ‘çš„æ¢¦æƒ³","description":null,"author":"å¾ç£Š","url":"http://Metatronxl.github.io"},"pages":[],"posts":[{"title":"python çˆ¬è™«æ€»ç»“å¸–ï¼ˆä¸€ï¼‰","slug":"python-çˆ¬è™«æ€»ç»“å¸–ï¼ˆä¸€ï¼‰","date":"2017-12-05T08:47:58.000Z","updated":"2017-12-05T08:48:35.000Z","comments":true,"path":"2017/12/05/python-çˆ¬è™«æ€»ç»“å¸–ï¼ˆä¸€ï¼‰/","link":"","permalink":"http://Metatronxl.github.io/2017/12/05/python-çˆ¬è™«æ€»ç»“å¸–ï¼ˆä¸€ï¼‰/","excerpt":"","text":"ä¸»è¦æ˜¯reï¼Œrequestsï¼ŒBeautifulSoupï¼Œurllib2çš„ä½¿ç”¨æ€»ç»“ 1.requestsåŸºæœ¬ç”¨æ³•ç¤ºä¾‹ ä½¿ç”¨requestsåŠ è½½ç½‘ç«™ 12345678910111213141516171819202122232425# coding:utf-8import requests# ä¸‹è½½æ–°æµªæ–°é—»é¦–é¡µçš„å†…å®¹url = &apos;http://news.sina.com.cn/china/&apos;# ç”¨getå‡½æ•°å‘é€GETè¯·æ±‚ï¼Œè·å–å“åº”res = requests.get(url)# è®¾ç½®å“åº”çš„ç¼–ç æ ¼å¼utf-8ï¼ˆé»˜è®¤æ ¼å¼ä¸ºISO-8859-1ï¼‰ï¼Œé˜²æ­¢ä¸­æ–‡å‡ºç°ä¹±ç res.encoding = &apos;utf-8&apos;print type(res)print resprint res.text# è¾“å‡ºï¼š&apos;&apos;&apos;&lt;class &apos;requests.models.Response&apos;&gt;&lt;Response [200]&gt;&lt;!DOCTYPE html&gt;&lt;!-- [ published at 2017-04-19 23:30:28 ] --&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;&lt;title&gt;å›½å†…æ–°é—»_æ–°é—»ä¸­å¿ƒ_æ–°æµªç½‘&lt;/title&gt;&lt;meta name=&quot;keywords&quot; content=&quot;å›½å†…æ—¶æ”¿,å†…åœ°æ–°é—»&quot;&gt; requests å‘é€è¯·æ±‚ä¸ä¼ é€’å‚æ•° 1234567import requests r = requests.get(url=&apos;http://www.itwhy.org&apos;) # æœ€åŸºæœ¬çš„GETè¯·æ±‚print(r.status_code) # è·å–è¿”å›çŠ¶æ€r = requests.get(url=&apos;http://dict.baidu.com/s&apos;, params=&#123;&apos;wd&apos;:&apos;python&apos;&#125;) #å¸¦å‚æ•°çš„GETè¯·æ±‚print(r.url)print(r.text) #æ‰“å°è§£ç åçš„è¿”å›æ•°æ® requests æ¥å£ç»Ÿä¸€ï¼Œä½¿ç”¨æ–¹ä¾¿ requests.get(â€˜https://github.com/timeline.jsonâ€™) #GETè¯·æ±‚ requests.post(â€œhttp://httpbin.org/postâ€) #POSTè¯·æ±‚ requests.put(â€œhttp://httpbin.org/putâ€) #PUTè¯·æ±‚ requests.delete(â€œhttp://httpbin.org/deleteâ€) #DELETEè¯·æ±‚ requests.head(â€œhttp://httpbin.org/getâ€) #HEADè¯·æ±‚ requests.options(â€œhttp://httpbin.org/getâ€) #OPTIONSè¯·æ±‚ ### requestsä½¿ç”¨postå‘é€jsonè¯·æ±‚ 12345import requestsimport json r = requests.post(&apos;https://api.github.com/some/endpoint&apos;, data=json.dumps(&#123;&apos;some&apos;: &apos;data&apos;&#125;))print(r.json()) requests å®šåˆ¶headerï¼š 12345678910import requestsimport json data = &#123;&apos;some&apos;: &apos;data&apos;&#125;headers = &#123;&apos;content-type&apos;: &apos;application/json&apos;, &apos;User-Agent&apos;: &apos;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:22.0) Gecko/20100101 Firefox/22.0&apos;&#125; r = requests.post(&apos;https://api.github.com/some/endpoint&apos;, data=data, headers=headers)print(r.text requests ä»£ç†è®¿é—® æœ‰æ—¶å€™ä¸ºäº†é¿å…å°IPï¼Œæˆ–è€…åœ¨æŸäº›å…¬å¸å†…ç½‘è®¿é—®å¤–ç½‘æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°ä»£ç†æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œä»£ç†çš„ç”¨æ³•ç¤ºä¾‹ï¼š 1234import requestsproxies = &#123;&apos;http&apos;:&apos;http://proxy.test.com:8080&apos;,&apos;https&apos;:&apos;http://proxy.test.com:8080&apos;&#125; # å…¶ä¸­proxy.test.comå³ä¸ºä»£ç†æœåŠ¡å™¨çš„åœ°å€url = &apos;https://www.baidu.com&apos; # è¿™ä¸ªurlä¸ºè¦è®¿é—®çš„urlresp = requests.get(url,proxies = proxies) æ›´å¤šè¯¦ç»†çš„ç”¨æ³•è¿˜æ˜¯éœ€è¦é˜…è¯»å®˜æ–¹åº“ï¼Œrequestså‡ ä¹å¯ä»¥ä»£æ›¿urllibçš„ä½¿ç”¨ 2.urllib2 ä½¿ç”¨ç¤ºä¾‹ ä½¿ç”¨urllib2åŠ è½½ä¸€ä¸ªç½‘é¡µçš„htmlï¼ˆæ–¹ä¾¿ä½¿ç”¨Soupè¿›è¡Œè§£æï¼‰ 123import urllib2response = urllib2.urlopen(&apos;http://python.org/)html = response.read()","categories":[],"tags":[]},{"title":"æ­å»ºåšå®¢æ„Ÿæƒ³","slug":"testArticle","date":"2017-11-22T12:18:56.000Z","updated":"2017-11-22T12:57:25.000Z","comments":true,"path":"2017/11/22/testArticle/","link":"","permalink":"http://Metatronxl.github.io/2017/11/22/testArticle/","excerpt":"","text":"æœ€æ—©æ˜¯å·²å»ä¸­ç§‘å¤§æ•°æ®æ¬ç –çš„è–‡è–‡è·Ÿæˆ‘æèµ·è¯´è¦æ­å»ºåšå®¢çš„äº‹ï¼Œå½“æ—¶ä¹Ÿè¯´å¥½è¦å¿ƒè¡€æ¥æ½®è‡ªå·±å½»å½»åº•åº•çš„æ’¸å®Œä¸€æ•´å¥—blogä»£ç ï¼Œflaskå’Œdjangoä¹Ÿéƒ½å­¦äº†ï¼Œæš‘å‡ä¹Ÿè¯•è¿‡è‡ªå·±æ­å»ºä¸€ä¸ªæ¸…çˆ½çš„blogï¼Œä½†æ˜¯ä¸€æƒ³åˆ°è‡ªå·±è¿˜è¦ä¹°åŸŸåï¼Œä¹°æœåŠ¡å™¨ã€‚Emmmâ€¦ç”¨Githubæ­å»ºåšå®¢æ‰æ˜¯æœ€å¼çš„ï¼ğŸ™‚ 12è¿™å°±æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢äº†ï¼Œè™½ç„¶æ°´äº†ç‚¹ï¼Œä»¥åå¯æ˜¯è¦å ‚å ‚æ­£æ­£å‘å¹²è´§çš„ï¼Œåšå†³ä¸ ~~æ‘¸é±¼~~ ï¼ åè®°ï¼šæ„Ÿè°¢é¹…å‚å¤§ä½¬Littenæä¾›çš„yiliaä¸»é¢˜ åœ¨æ­¤é™„ä¸Šå¤§ä½¬çš„githubåœ°å€ï¼šhttps://github.com/litten","categories":[],"tags":[]}]}